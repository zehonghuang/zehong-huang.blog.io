<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="哦：:"><title>作为客体的类库 | 万智坑的码农小书虫，爱文学，爱哲学，蓝黑混白控，积极悲观主义者，初级非道德主义者。偶尔写写小诗，搞搞情调～</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '0a5b9422135fcdf976ea589d63a28521';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><meta name="generator" content="Hexo 4.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">作为客体的类库</h1><a id="logo" href="/.">作为客体的类库</a><p class="description">万智坑的码农小书虫，爱文学，爱哲学，蓝黑混白控，积极悲观主义者，初级非道德主义者。偶尔写写小诗，搞搞情调～</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2017/01/21/20170121-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%87%BD%E6%95%B0%E4%B8%8E%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/">初学Clojure—函数与高阶函数</a></h1><div class="post-meta">2017-01-21</div><div class="post-content"><p>本来这应该放在递归之前的，不过没什么影响，反而对闭包的理解有帮助。把函数作为第一等公民的clojure，自然会给函数提供吊炸天的功能，使其变得吊炸天，写出更吊炸天的闭包！例如串行调用的组合函数、偏函数和柯里化、以及高阶函数等等。</p>
<hr>
<ul>
<li><h3 id="函数的结果传给下一个函数"><a href="#函数的结果传给下一个函数" class="headerlink" title="函数的结果传给下一个函数"></a><font color=#0099ff>函数的结果传给下一个函数</font></h3></li></div><p class="readmore"><a href="/2017/01/21/20170121-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%87%BD%E6%95%B0%E4%B8%8E%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/01/19/20170119-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%B0%BE%E9%80%92%E5%BD%92/">初学Clojure—循环与尾递归</a></h1><div class="post-meta">2017-01-19</div><div class="post-content"><p>Lisp语言中，循环不像Java提供<code>for</code>、<code>while</code>等语法，经典用法还是使用递归，clojure也有提供loop循环。在clojure中，递归、循环息息相关的工具<code>recur</code>，它的存在跟clojure实现在jvm之上有所关系，其原因也跟Java为什么有<code>for</code>、<code>while</code>等语法相关。</p></div><p class="readmore"><a href="/2017/01/19/20170119-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%B0%BE%E9%80%92%E5%BD%92/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/01/17/20170117-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/">初学Clojure—定义函数</a></h1><div class="post-meta">2017-01-17</div><div class="post-content"><p>严格来说，Lisp是一种多范式语言，不仅仅是函数式编程，也可面向对象，也可面向过程，但它的特性确实在函数式编程中更为出色些。Clojure作为Lisp家族中的一员，继承祖先的优良传统，也有自己的特色，特别在“函数是第一公民”的原则上。比如匿名函数的递归，在Common Lisp只能自定义宏实现，在Scheme优雅不少，但也好看不到哪去。</p></div><p class="readmore"><a href="/2017/01/17/20170117-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2017/01/15/20170115-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">初学Clojure—基本语法</a></h1><div class="post-meta">2017-01-15</div><div class="post-content"><p>为了全面学习函数式编程语言，之前尝试了scala，不得不承认它的入门门槛略高。于是乎，决定从古老的新语言Clorue入手，作为Lisp的一种方言，语法上无疑是古老的，但它又运行在JVM上且有一些不错的机制，无疑是门新语言。</p>
<hr>
<ul>
<li><h3 id="满篇的括号"><a href="#满篇的括号" class="headerlink" title="满篇的括号"></a><font color=#0099ff>满篇的括号</font></h3></li></div><p class="readmore"><a href="/2017/01/15/20170115-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/12/02/20161202-LinkedIn%E7%9A%84Parseq-ning-httpclient%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8/">LinkedIn的Parseq + ning.httpclient异步请求框架的使用</a></h1><div class="post-meta">2016-12-02</div><div class="post-content"><p>Parseq是Linkedin的一个异步框架，目前来说是个封装的较好而且易用的异步框架。除了普通的数据处理外，还支持网络请求、消息队列等。</p>
<hr>
<h2 id="1-Maven配置"><a href="#1-Maven配置" class="headerlink" title="1. Maven配置"></a>1. Maven配置</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.linkedin.parseq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>parseq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.linkedin.parseq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>parseq-http-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2016/12/02/20161202-LinkedIn%E7%9A%84Parseq-ning-httpclient%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/10/03/20161003-%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6-%E6%9D%A5%E7%9C%8B%E7%9C%8BLinkHashMap%E6%98%AF%E5%95%A5/">浅谈Java集合框架-来看看LinkedHashMap是啥!</a></h1><div class="post-meta">2016-10-03</div><div class="post-content"><p>跳槽后，就没怎么看jdk，趁着十一看回点集合框架。我们知道HashMap是无序的，jdk也给我们提供了算是有序的HashMap，即LinkedHashMap。然而它只保留了操作的相对有序，而非TreeMap的Key自然有序。</p>
<hr>
<p>LinkedHashMap显然继承了HashMap的绝大部分特性，新Entry则添加了<code>before</code>和<code>after</code>两个指针，以及维护Entry链表的方法。需要说明的是，HashMap.Entry的单链表无关，那只是用于解决hash冲突而已。</p></div><p class="readmore"><a href="/2016/10/03/20161003-%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6-%E6%9D%A5%E7%9C%8B%E7%9C%8BLinkHashMap%E6%98%AF%E5%95%A5/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/07/28/20160728-Linux%EF%BC%8Dawk%E7%BC%96%E7%A8%8B/">Linux－awk编程</a></h1><div class="post-meta">2016-07-28</div><div class="post-content"><p>awk是个刁到不行的文本处理命令，查看生产环境日志时，简直就是神操！<br>新增：awk的数组</p>
<hr>
<ul>
<li><h3 id="awk命令"><a href="#awk命令" class="headerlink" title="awk命令"></a>awk命令</h3></li></div><p class="readmore"><a href="/2016/07/28/20160728-Linux%EF%BC%8Dawk%E7%BC%96%E7%A8%8B/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/07/16/20160716-%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E6%AF%94%E8%BE%83HashMap%E4%B8%8EHashtable/">浅谈Java集合框架－比较HashMap与Hashtable</a></h1><div class="post-meta">2016-07-16</div><div class="post-content"><p>Hashtable实际上就是一个线程安全的HashMap，不过它是个遗留下来的过气类，其性能也并比不少ConcurrentHashMap。</p>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HashMap默认长度是1&lt;&lt;4 aka 16</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>(<span class="number">11</span>, <span class="number">0.75f</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//很明显，HashMap没有synchronized，并不线程安全。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Make sure the value is not null</span></span><br><span class="line">  <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="comment">//HashMap的key允许一个null</span></span><br><span class="line">    <span class="comment">//HashMap源码：return putForNullKey(value);</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Makes sure the key is not already in the hashtable.</span></span><br><span class="line">  Entry tab[] = table;</span><br><span class="line">  <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">  <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">  <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) &#123;</span><br><span class="line">      V old = e.value;</span><br><span class="line">      e.value = value;</span><br><span class="line">      <span class="keyword">return</span> old;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modCount++;</span><br><span class="line">  <span class="keyword">if</span> (count &gt;= threshold) &#123;</span><br><span class="line">    <span class="comment">// Rehash the table if the threshold is exceeded</span></span><br><span class="line">    rehash();</span><br><span class="line">    tab = table;</span><br><span class="line">    hash = hash(key);</span><br><span class="line">    index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Creates the new entry.</span></span><br><span class="line">  Entry&lt;K,V&gt; e = tab[index];</span><br><span class="line">  tab[index] = <span class="keyword">new</span> Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">  count++;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//if (key == null)</span></span><br><span class="line">  <span class="comment">//  return getForNullKey();HashMap的key有null值</span></span><br><span class="line">  Entry tab[] = table;</span><br><span class="line">  <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">  <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">  <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) &#123;</span><br><span class="line">      <span class="keyword">return</span> e.value;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2016/07/16/20160716-%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E6%AF%94%E8%BE%83HashMap%E4%B8%8EHashtable/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/28/20160628%EF%BC%8D%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E7%9E%A7%E7%9E%A7LinkedArray%E6%BA%90%E7%A0%81%EF%BC%8C%E6%9F%A5%E8%AF%A2%E6%95%88%E7%8E%87%E4%B8%BA%E4%BD%95%E5%A6%82%E6%AD%A4%E4%BD%8E%E4%B8%8B%EF%BC%9F/">浅谈Java集合框架－瞧瞧LinkedArray源码，查询效率为何如此低下？</a></h1><div class="post-meta">2016-06-28</div><div class="post-content"><p>平时用惯ArrayList插入查询，无视性能而忽略了LinkedArray，今日也反省反省，研究了一下<br>LinkedArray和ArrayList源码。其实理解两者原理和区别并不难，都是简单数据结构的应用。</p>
<hr>
<h2 id="LinkedArray源码"><a href="#LinkedArray源码" class="headerlink" title="LinkedArray源码"></a>LinkedArray源码</h2><p>双链表的好处就是有前后指针，插入只需要更新指针指向，随机查询则需要遍历。</p></div><p class="readmore"><a href="/2016/06/28/20160628%EF%BC%8D%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E7%9E%A7%E7%9E%A7LinkedArray%E6%BA%90%E7%A0%81%EF%BC%8C%E6%9F%A5%E8%AF%A2%E6%95%88%E7%8E%87%E4%B8%BA%E4%BD%95%E5%A6%82%E6%AD%A4%E4%BD%8E%E4%B8%8B%EF%BC%9F/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/28/20160628%EF%BC%8D%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E7%9C%8B%E7%9C%8BHashMap%E6%BA%90%E7%A0%81%EF%BC%8C%E4%BA%86%E8%A7%A3%E5%AE%83%E6%98%AF%E5%92%8B%E8%BF%90%E4%BD%9C%E7%9A%84/">浅谈Java集合框架－看看HashMap源码，了解它是咋运作的?</a></h1><div class="post-meta">2016-06-28</div><div class="post-content"><p>初探HashMap源码，显然要理解它的运作并不难，只要基本掌握哈希桶这种数据结构。本文只在源码上对<code>get(K key)</code>和<code>put(K key, V value)</code>进行解读，并了解HashMap的原理。我看的是jdk1.7的源码！</p>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">  threshold = initialCapacity;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//在HashMap类中无用</span></span><br><span class="line">  init();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化哈希槽</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inflateTable</span><span class="params">(<span class="keyword">int</span> toSize)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//threshold只是作为标准值，下面求一个略大于标准值的容量</span></span><br><span class="line">  <span class="keyword">int</span> capacity = roundUpToPowerOf2(toSize);</span><br><span class="line">  <span class="comment">//负载因子折算threshold</span></span><br><span class="line">  threshold = (<span class="keyword">int</span>) Math.min(capacity * loadFactor, MAXIMUM_CAPACITY + <span class="number">1</span>);</span><br><span class="line">  <span class="comment">//注意Entry本身是链表结构（即桶），table只是桶的列表</span></span><br><span class="line">  table = <span class="keyword">new</span> Entry[capacity];</span><br><span class="line">  <span class="comment">//初始化hashseed</span></span><br><span class="line">  initHashSeedAsNeeded(capacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">roundUpToPowerOf2</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// assert number &gt;= 0 : "number must be non-negative";</span></span><br><span class="line">  <span class="keyword">return</span> number &gt;= MAXIMUM_CAPACITY</span><br><span class="line">    ? MAXIMUM_CAPACITY</span><br><span class="line">      <span class="comment">//number-1两倍，取最高位1的值</span></span><br><span class="line">      : (number &gt; <span class="number">1</span>) ? Integer.highestOneBit((number - <span class="number">1</span>) &lt;&lt; <span class="number">1</span>) : <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (table == EMPTY_TABLE) &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    inflateTable(threshold);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//key为null时，hash为0，即table[0]</span></span><br><span class="line">  <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">    <span class="comment">//该方法的代码段与下面一致，i＝0</span></span><br><span class="line">    <span class="keyword">return</span> putForNullKey(value);</span><br><span class="line">  <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">  <span class="comment">//计算下标</span></span><br><span class="line">  <span class="keyword">int</span> i = indexFor(hash, table.length);</span><br><span class="line">  <span class="comment">//获取对于hash的桶，e!=null则下一个entry</span></span><br><span class="line">  <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) &#123;</span><br><span class="line">    Object k;</span><br><span class="line">    <span class="comment">//比对key值，若key存在则体会value，并返回旧value</span></span><br><span class="line">    <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span><br><span class="line">      V oldValue = e.value;</span><br><span class="line">      e.value = value;</span><br><span class="line">      <span class="comment">//貌似毫无用处</span></span><br><span class="line">      e.recordAccess(<span class="keyword">this</span>);</span><br><span class="line">      <span class="keyword">return</span> oldValue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modCount++;</span><br><span class="line">  <span class="comment">//key值不存在则插入</span></span><br><span class="line">  addEntry(hash, key, value, i);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//entry数满标准值，且该槽点不为null。为什么这样判断？因为大于threshold，不代表bucket已经用完，size只是entry的数量</span></span><br><span class="line">  <span class="keyword">if</span> ((size &gt;= threshold) &amp;&amp; (<span class="keyword">null</span> != table[bucketIndex])) &#123;</span><br><span class="line">    <span class="comment">//重设标准值，扩容</span></span><br><span class="line">    resize(<span class="number">2</span> * table.length);</span><br><span class="line">    <span class="comment">//重新计算hash</span></span><br><span class="line">    hash = (<span class="keyword">null</span> != key) ? hash(key) : <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//重新计算下表</span></span><br><span class="line">    bucketIndex = indexFor(hash, table.length);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  createEntry(hash, key, value, bucketIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">createEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>&#123;</span><br><span class="line">  Entry&lt;K,V&gt; e = table[bucketIndex];</span><br><span class="line">  <span class="comment">//把新entry插入链表头</span></span><br><span class="line">  table[bucketIndex] = <span class="keyword">new</span> Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">  size++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">    <span class="keyword">return</span> getForNullKey();</span><br><span class="line">  Entry&lt;K,V&gt; entry = getEntry(key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span> == entry ? <span class="keyword">null</span> : entry.getValue();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> V <span class="title">getForNullKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//前面说过key为null时，hash为0</span></span><br><span class="line">  <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[<span class="number">0</span>]; e != <span class="keyword">null</span>; e = e.next) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.key == <span class="keyword">null</span>)</span><br><span class="line">      <span class="keyword">return</span> e.value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">getEntry</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key);</span><br><span class="line">  <span class="comment">//获取hash对应的bucket，遍历Entry</span></span><br><span class="line">  <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)]; e != <span class="keyword">null</span>; e = e.next) &#123;</span><br><span class="line">      Object k;</span><br><span class="line">      <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">          <span class="keyword">return</span> e;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  Entry[] oldTable = table;</span><br><span class="line">  <span class="keyword">int</span> oldCapacity = oldTable.length;</span><br><span class="line">  <span class="keyword">if</span> (oldCapacity == MAXIMUM_CAPACITY) &#123;</span><br><span class="line">    threshold = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Entry[] newTable = <span class="keyword">new</span> Entry[newCapacity];</span><br><span class="line">  transfer(newTable, initHashSeedAsNeeded(newCapacity));</span><br><span class="line">  table = newTable;</span><br><span class="line">  threshold = (<span class="keyword">int</span>)Math.min(newCapacity * loadFactor, MAXIMUM_CAPACITY + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2016/06/28/20160628%EF%BC%8D%E6%B5%85%E8%B0%88Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%EF%BC%8D%E7%9C%8B%E7%9C%8BHashMap%E6%BA%90%E7%A0%81%EF%BC%8C%E4%BA%86%E8%A7%A3%E5%AE%83%E6%98%AF%E5%92%8B%E8%BF%90%E4%BD%9C%E7%9A%84/">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://zehonghuang.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Netty/">Netty</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Spring源码分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">java并发编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">java网络编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/rpc%E6%A1%86%E6%9E%B6/">rpc框架</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%87%BD%E6%95%B0%E7%BC%96%E7%A8%8B/">函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B0%8F%E6%96%87/">小文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B0%8F%E8%AF%97/">小诗</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/">开源框架</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/">集合框架</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/clojure/" style="font-size: 15px;">clojure</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 15px;">教程</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 15px;">并发编程语言</a> <a href="/tags/java/" style="font-size: 15px;">java　</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/AOP/" style="font-size: 15px;">AOP</a> <a href="/tags/IOC%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC/" style="font-size: 15px;">IOC控制反转</a> <a href="/tags/BeanFactory/" style="font-size: 15px;">BeanFactory</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">并发编程</a> <a href="/tags/%E5%90%8C%E6%AD%A5/" style="font-size: 15px;">同步</a> <a href="/tags/%E5%85%AC%E5%B9%B3%E9%94%81/" style="font-size: 15px;">公平锁</a> <a href="/tags/%E9%9D%9E%E5%85%AC%E5%B9%B3%E9%94%81/" style="font-size: 15px;">非公平锁</a> <a href="/tags/%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81/" style="font-size: 15px;">可重入锁</a> <a href="/tags/%E8%AF%BB%E5%86%99%E9%94%81/" style="font-size: 15px;">读写锁</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/LinkedArray/" style="font-size: 15px;">LinkedArray</a> <a href="/tags/hashmap/" style="font-size: 15px;">hashmap</a> <a href="/tags/Hashtable/" style="font-size: 15px;">Hashtable</a> <a href="/tags/HashMap/" style="font-size: 15px;">HashMap</a> <a href="/tags/awk/" style="font-size: 15px;">awk</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" style="font-size: 15px;">文本处理</a> <a href="/tags/LinkedHashMap/" style="font-size: 15px;">LinkedHashMap</a> <a href="/tags/%E5%BC%82%E6%AD%A5%E6%A1%86%E6%9E%B6/" style="font-size: 15px;">异步框架</a> <a href="/tags/parseq/" style="font-size: 15px;">parseq</a> <a href="/tags/ReentrantLock/" style="font-size: 15px;">ReentrantLock</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E9%A5%A5%E6%B8%B4/" style="font-size: 15px;">线程饥渴</a> <a href="/tags/Dubbo/" style="font-size: 15px;">Dubbo</a> <a href="/tags/SPI/" style="font-size: 15px;">SPI</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 15px;">反射</a> <a href="/tags/rpc/" style="font-size: 15px;">rpc</a> <a href="/tags/Netty/" style="font-size: 15px;">Netty</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 15px;">源码分析</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 15px;">负载均衡</a> <a href="/tags/LoadBalance/" style="font-size: 15px;">LoadBalance</a> <a href="/tags/Linux%E5%86%85%E6%A0%B8/" style="font-size: 15px;">Linux内核</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">网络编程</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/Linux%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">Linux编程</a> <a href="/tags/C-C/" style="font-size: 15px;">C/C++</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/11/20191216-%E3%80%90%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E3%80%91new-Thread%E6%97%B6JVM%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F/">【Java并发】new Thread时JVM做了什么？</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/09/20190109-%E3%80%90%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E3%80%91NIO%E7%9A%84%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90/">【网络编程】从Linux角度以及JVM源码，深入NIO的细节</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/23/20181123-%E3%80%90Spring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%91BeanFactory%E4%BD%93%E7%B3%BB%E7%9A%84%E4%BD%9C%E7%94%A8/">【Spring源码分析】BeanFactory体系的作用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/06/20180906-%E3%80%90Dubbo%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9B%E7%A7%8D%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">【Dubbo源码分析】四种负载均衡</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/02/20180902-%E3%80%90Dubbo%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%91SPI%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%B0%86URL%E4%B8%8E%E5%8F%AF%E6%8F%92%E6%8B%94%E6%8B%93%E5%B1%95%E8%9E%8D%E5%90%88%E5%88%B0%E6%9E%81%E8%87%B4/">【Dubbo源码分析】SPI机制，将URL与可插拔拓展融合到极致</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/02/20180702%20-%E3%80%90Java%E5%B9%B6%E5%8F%91%E3%80%91JUC%E2%80%94ReentrantReadWriteLock%E6%9C%89%E5%9D%91%EF%BC%8C%E5%B0%8F%E5%BF%83%E8%AF%BB%E9%94%81%EF%BC%81/">【Java并发】JUC—ReentrantReadWriteLock有坑，小心读锁！</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/27/20180227-%E3%80%90Java%E5%B9%B6%E5%8F%91%E3%80%91JUC-lock%E5%8C%85AbstractQueuedSynchronizer%E7%9A%84%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%EF%BC%88%E4%B8%80%EF%BC%89/">【Java并发】JUC.lock包AbstractQueuedSynchronizer的源码分析（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/03/20170403-asynchttpclient%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E5%9F%BA%E4%BA%8ENetty%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%AE%9E%E7%8E%B0/">asynchttpclient源码分析-基于Netty的连接池实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/29/20170129-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%80%A7%E4%B8%8E%E6%83%B0%E6%80%A7/">初学Clojure—不可变性与惰性</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/23/20170123-%E5%88%9D%E5%AD%A6Clojure%E2%80%94%E9%9B%86%E5%90%88%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">初学Clojure—集合与数据结构</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">作为客体的类库.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>